{"version":3,"sources":["maps-frontend.js"],"names":["_classCallCheck","instance","Constructor","Object","defineProperty","exports","_createClass","_Marker","require","_Marker2","_createRandomId","GoogleMap","instanceId","container","markers","lng","scrollwheel","navigationControl","scaleControl","draggable","infoWindowOn","globalMarkerIcon","options"],"mappings":"skBAewB,QAAAA,GAAUC,EAAVC,iFAZlBC,OAAAC,eAAAC,EAAA,qBACY,GACV,IAAOC,GAAA,mPAEHC,EAAKC,EAFU,YAIfC,oDACIF,GACIG,EAAIF,EAAJ,+BAMIG,EAAA,kCAGJA,qBAnBpBC,YAmB2F,QAAdC,UAAzDA,OAVJC,oBALR,qDAuBG,WAxBPC,IAAA,iBA4BQ,EAAAC,aAAA,EACAC,mBAAA,kBAEA,EAAAC,cAAA,EACOC,WAAP,qBAEP,GA/BOC,aAAA,QAmCaC,iBAArB,yBAnCQC","file":"maps-frontend.js","sourcesContent":["import GoogleMap from './blocks/maps/modules/GoogleMap';\nimport {createRandomId} from './blocks/maps/functions/createRandomId';\n\nclass App {\n    constructor() {\n        window.GoogleMap = {\n            readyApi: false,\n            api: document.querySelector('meta[property=\"maps:key\"]').getAttribute('content'),\n            instances: [],\n            init: () => {\n                [].forEach.call(document.querySelectorAll('*[data-module=\"google-map\"]'), (container, index) => {\n                    let instanceId = createRandomId();\n                    let options = container.getAttribute('data-options');\n\n                    if (typeof options == 'undefined' || options == '') {\n                        options = {};\n                    } else {\n                        options = JSON.parse(options);\n                    }\n\n                    window.GoogleMap.instances.push(new GoogleMap(container, Object.assign({\n                        instanceId: instanceId\n                    }, options)));\n                });\n            }\n        };\n    }\n\n    init() {\n        if (!window.GoogleMap.readyApi && (window.GoogleMap.api != '' || typeof window.GoogleMap.api != 'undefined')) {\n            let script = document.createElement('script');\n\n            script.type = 'text/javascript';\n            script.src = `//maps.googleapis.com/maps/api/js?key=${window.GoogleMap.api}&libraries=places&callback=window.GoogleMap.init`;\n\n            document.body.appendChild(script);\n            window.GoogleMap.readyApi = true;\n        }\n    }\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    if (!('GoogleMap' in window)) {\n        const APP = new App();\n\n        APP.init();\n    }\n});"]}